{
    "name": "jupyter-username",
    "jobs": [
        {
            "name": "job-1",
            "command": [
                "pwd"
            ],
            "dependencies": []
        },
        {
            "name": "job-2",
            "command": [
                "ls",
                "-la",
                "/home/jovyan"
            ],
            "dependencies": [
                "job-1"
            ]
        },
        {
            "name": "job-3",
            "command": [
                "ls",
                "-la",
                "/home/jovyan/data"
            ],
            "dependencies": [
                "job-1"
            ],
            "volumeMounts": [
                {
                    "name": "uio",
                    "mountPath": "~/data/uio",
                    "readOnly": True
                },
                {
                    "name": "uib",
                    "mountPath": "~/data/uib",
                    "readOnly": True
                }
            ]
        },
        {
            "name": "job-4",
            "command": [
                "ls"
            ],
            "dependencies": [
                "job-1"
            ]
        }
    ],
    "spec": {
        "serviceAccountName": "default",
        "image": "aliakbarrehman/jupyterhub:v1.0",
        "imagePullPolicy": "IfNotPresent",
        "imagePullSecrets": None,
        "runAsUser": 1000,
        "runAsGroup": 100,
        "env_from": None,
        "resources": {
            "requests": {
                "memory": "1073741824"
            }
        },
        "nodeSelector": None,
        "env": [
            {
                "name": "JPY_API_TOKEN",
                "value": "0e4cbc3dfd0b449f989d00d91778efea"
            },
            {
                "name": "JUPYTERHUB_ACTIVITY_URL",
                "value": "http://hub:8081/hub/api/users/username/activity"
            },
            {
                "name": "JUPYTERHUB_ADMIN_ACCESS",
                "value": "1"
            },
            {
                "name": "JUPYTERHUB_API_TOKEN",
                "value": "0e4cbc3dfd0b449f989d00d91778efea"
            },
            {
                "name": "JUPYTERHUB_API_URL",
                "value": "http://hub:8081/hub/api"
            },
            {
                "name": "JUPYTERHUB_BASE_URL",
                "value": "/"
            },
            {
                "name": "JUPYTERHUB_CLIENT_ID",
                "value": "jupyterhub-user-username"
            },
            {
                "name": "JUPYTERHUB_HOST"
            },
            {
                "name": "JUPYTERHUB_OAUTH_CALLBACK_URL",
                "value": "/user/username/oauth_callback"
            },
            {
                "name": "JUPYTERHUB_SERVER_NAME"
            },
            {
                "name": "JUPYTERHUB_SERVICE_PREFIX",
                "value": "/user/username/"
            },
            {
                "name": "JUPYTERHUB_SINGLEUSER_APP",
                "value": "jupyter_server.serverapp.ServerApp"
            },
            {
                "name": "JUPYTERHUB_USER",
                "value": "username"
            },
            {
                "name": "JUPYTER_IMAGE",
                "value": "aliakbarrehman/jupyterhub:v1.0"
            },
            {
                "name": "JUPYTER_IMAGE_SPEC",
                "value": "aliakbarrehman/jupyterhub:v1.0"
            },
            {
                "name": "MEM_GUARANTEE",
                "value": "1073741824"
            }
        ],
        "volumes": [
            {
                "name": "volume-username",
                "persistentVolumeClaim": {
                    "claimName": "claim-username"
                }
            },
            {
                "name": "kube-api-access-vw792",
                "projected": {
                    "sources": [
                        {
                            "serviceAccountToken": {
                                "expirationSeconds": 3607,
                                "path": "token"
                            }
                        },
                        {
                            "configMap": {
                                "name": "kube-root-ca.crt",
                                "items": [
                                    {
                                        "key": "ca.crt",
                                        "path": "ca.crt"
                                    }
                                ]
                            }
                        },
                        {
                            "downwardAPI": {
                                "items": [
                                    {
                                        "path": "namespace",
                                        "fieldRef": {
                                            "apiVersion": "v1",
                                            "fieldPath": "metadata.namespace"
                                        }
                                    }
                                ]
                            }
                        }
                    ],
                    "defaultMode": 420
                }
            },
            {
                "name": "uio-pv",
                "persistentVolumeClaim": {
                    "claimName": "uio-pvc"
                }
            },
            {
                "name": "uib-pv",
                "persistentVolumeClaim": {
                    "claimName": "uib-pvc"
                }
            }
        ],
        "volumeMounts": [
            {
                "name": "volume-username",
                "mountPath": "/home/jovyan"
            },
            {
                "name": "kube-api-access-vw792",
                "readOnly": True,
                "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount"
            }
        ]
    }
}
{
    "name": "jupyter-username",
    "jobs": [
        {
            "name": "job-1",
            "command": [
                "pwd"
            ],
            "dependencies": []
        },
        {
            "name": "job-2",
            "command": [
                "ls",
                "-la",
                "/home/jovyan"
            ],
            "dependencies": [
                "job-1"
            ]
        },
        {
            "name": "job-3",
            "command": [
                "ls",
                "-la",
                "/home/jovyan/data"
            ],
            "dependencies": [
                "job-1"
            ],
            "volumeMounts": [
                {
                    "name": "uio",
                    "mountPath": "~/data/uio",
                    "readOnly": True
                },
                {
                    "name": "uib",
                    "mountPath": "~/data/uib",
                    "readOnly": True
                }
            ]
        },
        {
            "name": "job-4",
            "command": [
                "ls"
            ],
            "dependencies": [
                "job-1"
            ]
        }
    ],
    "spec": {
        "serviceAccountName": "default",
        "image": "aliakbarrehman/jupyterhub:v1.0",
        "imagePullPolicy": "IfNotPresent",
        "imagePullSecrets": None,
        "runAsUser": 1000,
        "runAsGroup": 100,
        "env_from": None,
        "resources": {
            "requests": {
                "memory": "1073741824"
            }
        },
        "nodeSelector": None,
        "env": [
            {
                "name": "JPY_API_TOKEN",
                "value": "0e4cbc3dfd0b449f989d00d91778efea"
            },
            {
                "name": "JUPYTERHUB_ACTIVITY_URL",
                "value": "http://hub:8081/hub/api/users/username/activity"
            },
            {
                "name": "JUPYTERHUB_ADMIN_ACCESS",
                "value": "1"
            },
            {
                "name": "JUPYTERHUB_API_TOKEN",
                "value": "0e4cbc3dfd0b449f989d00d91778efea"
            },
            {
                "name": "JUPYTERHUB_API_URL",
                "value": "http://hub:8081/hub/api"
            },
            {
                "name": "JUPYTERHUB_BASE_URL",
                "value": "/"
            },
            {
                "name": "JUPYTERHUB_CLIENT_ID",
                "value": "jupyterhub-user-username"
            },
            {
                "name": "JUPYTERHUB_HOST"
            },
            {
                "name": "JUPYTERHUB_OAUTH_CALLBACK_URL",
                "value": "/user/username/oauth_callback"
            },
            {
                "name": "JUPYTERHUB_SERVER_NAME"
            },
            {
                "name": "JUPYTERHUB_SERVICE_PREFIX",
                "value": "/user/username/"
            },
            {
                "name": "JUPYTERHUB_SINGLEUSER_APP",
                "value": "jupyter_server.serverapp.ServerApp"
            },
            {
                "name": "JUPYTERHUB_USER",
                "value": "username"
            },
            {
                "name": "JUPYTER_IMAGE",
                "value": "aliakbarrehman/jupyterhub:v1.0"
            },
            {
                "name": "JUPYTER_IMAGE_SPEC",
                "value": "aliakbarrehman/jupyterhub:v1.0"
            },
            {
                "name": "MEM_GUARANTEE",
                "value": "1073741824"
            }
        ],
        "volumes": [
            {
                "name": "volume-username",
                "persistentVolumeClaim": {
                    "claimName": "claim-username"
                }
            },
            {
                "name": "kube-api-access-vw792",
                "projected": {
                    "sources": [
                        {
                            "serviceAccountToken": {
                                "expirationSeconds": 3607,
                                "path": "token"
                            }
                        },
                        {
                            "configMap": {
                                "name": "kube-root-ca.crt",
                                "items": [
                                    {
                                        "key": "ca.crt",
                                        "path": "ca.crt"
                                    }
                                ]
                            }
                        },
                        {
                            "downwardAPI": {
                                "items": [
                                    {
                                        "path": "namespace",
                                        "fieldRef": {
                                            "apiVersion": "v1",
                                            "fieldPath": "metadata.namespace"
                                        }
                                    }
                                ]
                            }
                        }
                    ],
                    "defaultMode": 420
                }
            },
            {
                "name": "uio-pv",
                "persistentVolumeClaim": {
                    "claimName": "uio-pvc"
                }
            },
            {
                "name": "uib-pv",
                "persistentVolumeClaim": {
                    "claimName": "uib-pvc"
                }
            }
        ],
        "volumeMounts": [
            {
                "name": "volume-username",
                "mountPath": "/home/jovyan"
            },
            {
                "name": "kube-api-access-vw792",
                "readOnly": True,
                "mountPath": "/var/run/secrets/kubernetes.io/serviceaccount"
            }
        ]
    }
}